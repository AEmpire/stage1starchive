<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0">
  <channel>
    <title>.7z压缩这么强的吗</title>
    <link>https://bbs.saraba1st.com/2b/</link>
    <description>.7z压缩这么强的吗</description>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>python-feedgen</generator>
    <lastBuildDate>Thu, 09 Jul 2020 16:39:39 +0000</lastBuildDate>
    <item>
      <title>.7z压缩这么强的吗[0-50]</title>
      <link>https://bbs.saraba1st.com/2b/thread-1868652-1-1.html</link>
      <description>.7z压缩这么强的吗&#13;
我下了个158MB的压缩包，
&#13;
然后解压出6.25G的文件？
&#13;
我傻眼了
&#13;
这不科学
&#13;
PS压缩包里都是字体，跟这个有关系吗</description>
      <content:encoded><![CDATA[<p><b>暗藏流: </b><br>
<span>.7z压缩这么强的吗</span><br>
<span>我下了个158MB的压缩包，</span><br>
<span>然后解压出6.25G的文件？</span><br>
<span>我傻眼了</span><br>
<span>这不科学</span><br>
<span>PS压缩包里都是字体，跟这个有关系吗</span><br>
</p><p><b>すぴぱら: </b><br>
<span>可能重复内容多，比如里面一堆0000，那压缩率肯定爆表</span><br>
</p><p><b>纯情小鸭鸭: </b><br>
<span>压缩率看文件类型的吧？</span><br>
</p><p><b>六尺之下: </b><br>
<span>你应该再用别的软件压缩一下才好对比</span><br>
</p><p><b>liwangli1983: </b><br>
<span>字体我记得算是能压的……</span><br>
</p><p><b>qw945: </b><br>
<span>黄油差分瑟图压缩率也很猛</span><br>
<span>—— 来自 Sony J9110, Android 9上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>macos: </b><br>
<span>需要bmp才有效果，其他压缩格式反而差异太大压不出</span><br>
</p><p><b>macos: </b><br>
<span>qw945 发表于 2019-11-29 13:58</span><br>
<span>黄油差分瑟图压缩率也很猛</span><br>
<span>—— 来自 Sony J9110, Android 9上的 S1Next-鹅版 v2.2.0.1 ...</span><br>
<span>需要bmp才有效果，其他压缩格式反而差异太大压不出</span><br>
</p><p><b>GrassSand: </b><br>
<span>The file contains 16 zipped files, which again contains 16 zipped files, which again contains 16 zipped files, which again contains 16 zipped, which again contains 16 zipped files, which contain 1 file, with the size of 4.3GB.</span><br>
<span>So, if you extract all files, you will most likely run out of space :-)</span><br>
<span>16 x 4294967295       = 68.719.476.720 (68GB)</span><br>
<span>16 x 68719476720      = 1.099.511.627.520 (1TB)</span><br>
<span>16 x 1099511627520    = 17.592.186.040.320 (17TB)</span><br>
<span>16 x 17592186040320   = 281.474.976.645.120 (281TB)</span><br>
<span>16 x 281474976645120= 4.503.599.626.321.920 (4,5PB)</span><br>
<span> zip bomb</span><br>
</p><p><b>纯洁7号: </b><br>
<span>字体这玩意儿是矢量的，同一系列的字体差异很小，所以压缩率较高</span><br>
</p><p><b>lvcha: </b><br>
<span>你要是试试深度学习encoder，照片也能给你压出这么个效果。</span><br>
</p><p><b>tgzeror: </b><br>
<span>GrassSand 发表于 2019-11-29 14:24</span><br>
<span>zip bomb</span><br>
<span>这解压出来是个啥玩意</span><br>
</p><p><b>GrassSand: </b><br>
<span>tgzeror 发表于 2019-11-29 16:31</span><br>
<span>这解压出来是个啥玩意</span><br>
<span>4.5 PB 塞爆你的硬盘</span><br>
</p><p><b>King5268: </b><br>
<span>GrassSand 发表于 2019-11-29 14:24</span><br>
<span>zip bomb</span><br>
<span>哈哈，我也想到这个来着</span><br>
</p><p><b>sirlion: </b><br>
<span>GrassSand 发表于 2019-11-29 10:24</span><br>
<span>zip bomb</span><br>
<span>这个会不会被安全软件给拦截掉</span><br>
</p><p><b>沧粟: </b><br>
<span>GrassSand 发表于 2019-11-29 14:24</span><br>
<span>zip bomb</span><br>
<span>md，win10千万不要解压出来</span><br>
<span>win10好像为了给压缩文件里的内容建索引，会解压里边的内容。。然后，刚就解压了一层文件放桌面，虽然第一层只有那么1MB不到，过一会系统就不正常了，先是浏览器等软件崩溃，之后桌面崩溃直接黑屏。。</span><br>
<span>重启后发现C盘爆了、索引程序cpu高占用才意识到问题</span><br>
<span>理解为什么他要设密码了，不然刚下载下来硬盘就爆了</span><br>
</p><p><b>nice女武神: </b><br>
<span>信息率低的格式压缩率就高比如bmp </span><br>
</p><p><b>mimighost: </b><br>
<span>冗余度高这个也不奇怪</span><br>
</p><p><b>toyassb: </b><br>
<span>沧粟 发表于 2019-11-29 19:28</span><br>
<span>md，win10千万不要解压出来</span><br>
<span>win10好像为了给压缩文件里的内容建索引，会解压里边的内容。。然后，刚就解 ...</span><br>
<span>我用的eset还行，解压第二层时候帮我把解出来的第二层文件都删了，然后win10建索引也就文件管理器卡了一分钟就能操作然后把第一层全删了</span><br>
</p><p><b>macos: </b><br>
<span>沧粟 发表于 2019-11-29 19:28</span><br>
<span>md，win10千万不要解压出来</span><br>
<span>win10好像为了给压缩文件里的内容建索引，会解压里边的内容。。然后，刚就解 ...</span><br>
<span>ntfs新版支持稀疏文件，如果基本空内容，可能实际已解压的大小远大于你外层看到的</span><br>
</p><p><b>tency: </b><br>
<span>楼主那个我实验过，用7z压缩字体效率很高，比常用的zip，rar强</span><br>
</p><p><b>semerita: </b><br>
<span>果然万事还是要自己试一下才知道。</span><br>
<span>试过之后才知道自己是想当然了。</span><br>
<span>答案是，我也不知道为什么这个文件压缩率这么高。</span><br>
<span>过程，先按图索翼去下载了楼主的原文件，压缩率在2%</span><br>
<img src="https://i.loli.net/2019/11/29/irPBNeRQnzvw4OW.png" title="https://i.loli.net/2019/11/29/irPBNeRQnzvw4OW.png"><br>
<span>我用WinRAR 5.71，开启最高压缩，大约花了9分钟得到一个rar包。压缩率45%</span><br>
<img src="https://i.loli.net/2019/11/29/Xuri1j4KtgfCzAL.png" title="https://i.loli.net/2019/11/29/Xuri1j4KtgfCzAL.png"><br>
<span>这么比较的话，7z的2%和WinRAR的45%确实让人吃惊。我又用7z 16.04开启最高压缩压了一遍。压缩率30%</span><br>
<img src="https://i.loli.net/2019/11/29/R3Dm6cq5InGj1K9.png" title="https://i.loli.net/2019/11/29/R3Dm6cq5InGj1K9.png"><br>
<span>压缩率比较 原文件：RAR：7Z=2%：45%：30%</span><br>
<span>实验比较粗糙，但是7z压缩率确实比WinRAR高不少。不过这个文件如何压到2%，是个谜。</span><br>
<span>如果有人知道正确的解答麻烦告诉我</span><br>
<span>对了，7z最高压缩花了 超久</span><br>
<img src="https://i.loli.net/2019/11/29/mHPVSGKrJk6B3YO.png" title="https://i.loli.net/2019/11/29/mHPVSGKrJk6B3YO.png"><br>
</p><p><b>feolhn: </b><br>
<span>semerita 发表于 2019-11-29 21:58</span><br>
<span>果然万事还是要自己试一下才知道。</span><br>
<span>试过之后才知道自己是想当然了。</span><br>
<span>手动加鹅</span><br>
</p><p><b>GrassSand: </b><br>
<span>semerita 发表于 2019-11-29 21:58</span><br>
<span>果然万事还是要自己试一下才知道。</span><br>
<span>试过之后才知道自己是想当然了。</span><br>
<span>function SevenZipCompress(dir, target, ...inputs) {</span><br>
<span>        return cd(dir).run(</span><br>
<span>                ,</span><br>
<span>                [`-t7z`, `-mmt=on`, `-m0=LZMA:a=0:d=256m:fb=256`],</span><br>
<span>                [`../${target.name}.7z`, ...inputs]</span><br>
<span>        );</span><br>
<span>}</span><br>
<span>压缩参数 https://github.com/be5invis/Sarasa-Gothic/blob/master/verdafile.js#L88</span><br>
</p><p><b>win8: </b><br>
<span>semerita 发表于 2019-11-29 21:58</span><br>
<span>果然万事还是要自己试一下才知道。</span><br>
<span>试过之后才知道自己是想当然了。</span><br>
<span>我觉得可能是根据字体文件特性选择了对应的算法/字典做的压缩，甚至并不是使用7z软件做出来的压缩包，而是符合7z文件格式的自己重写了压缩算法。</span><br>
</p><p><b>暗藏流: </b><br>
<span>semerita 发表于 2019-11-29 21:58</span><br>
<span>果然万事还是要自己试一下才知道。</span><br>
<span>试过之后才知道自己是想当然了。</span><br>
<span>好评加鹅。虽然说应该不会找错，但还是把我下载的文件地址贴一下更纱黑体</span><br>
<span>我试着把文件夹压缩过一次，设置7zip的极限压缩，耗时13分钟左右得到一个2G左右的包。158MB实在匪夷所思</span><br>
</p><p><b>semerita: </b><br>
<span> 本帖最后由 semerita 于 2019-11-30 02:28 编辑 </span><br>
<span>更新一下</span><br>
<span>经过24楼朋友的说明，我把GUI里面的三个参数拉到相同。压缩方式LZMA,字典256，词256。</span><br>
<span>没有想到这么一压，出来了一个8%的结果。</span><br>
<img src="https://i.loli.net/2019/11/30/gWVBSUemZnQ3H4z.png" title="https://i.loli.net/2019/11/30/gWVBSUemZnQ3H4z.png"><br>
<span>命令行不熟，就不测了。我觉得这个结果差不多有了解答了。</span><br>
<span>毕竟这个8%耗费了我3h20m，感觉耗不起。</span><br>
<span>7z的算法确实比流行的WinRAR要高一些，不过要跑这种极限压缩需要的计算力太惊人了，我用着普通PC感觉是不行。</span><br>
</p><p><b>phyc: </b><br>
<span>第一次见是在压缩立绘上看到</span><br>
<span>----发送自 STAGE1 App for Android.</span><br>
</p><p><b>M27MD: </b><br>
<span>当年仙剑4破解那个才惊人。。</span><br>
</p><p><b>jzsgtx: </b><br>
<span>一直记得以前不少破解版游戏发布者喜欢用一个叫uharc的压缩格式，解压时就是个命令行界面的自解压程序，自己曾经下过一个200还是400M的游戏解压出来1.7G</span><br>
<span>—— 来自 Sony J9110, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>99mxw: </b><br>
<span>感觉tar.gz格式的代码压缩率也比我直接用gzip压的高，不知道是什么原因</span><br>
</p><p><b>小野賢章: </b><br>
<span>7z 默认无法增量添加新文件到压缩包，相当于 WinRAR 的固实压缩。</span><br>
</p><p><b>linux40: </b><br>
<span>快速压缩率高的有个zstd</span><br>
</p><p><b>vxzms: </b><br>
<span>更纱的中文部分主要改自思源，每个TTF都有使用大量共同的数据，好像是glyph set和sharing tables（？我不太了解这块</span><br>
<span>你看整合TTF的分字重TTC大小就只有479M了</span><br>
<span>如果像思源的Super OTC那样把各字重合并到一个文件中，就会更小，也就100+M</span><br>
</p><p><b>lwa190212: </b><br>
<span>7za a -t7z -mmt=on -m=LZMA:a=0:d=256m:fb=256 ...</span><br>
<span>Add new data to archive: 300 files, 6720940804 bytes (6410 MiB)</span><br>
<span>Archive size: 656414653 bytes (627 MiB)</span><br>
<span>7za a -t7z -mmt=on -m0=LZMA:a=0:d=1536m:fb=256 ...</span><br>
<span>Add new data to archive: 300 files, 6720940804 bytes (6410 MiB)</span><br>
<span>Archive size: 244927501 bytes (234 MiB)</span><br>
<span>....怒了-></span><br>
<span>7za a -t7z -mmt=on -ms=512f8g -m0=LZMA:a=0:d=1536m:fb=256</span><br>
<span>Archive size: 136353165 bytes (131 MiB)</span><br>
<span>舒服了</span><br>
</p><p><b>暗藏流: </b><br>
<span>vxzms 发表于 2019-11-30 12:35</span><br>
<span>更纱的中文部分主要改自思源，每个TTF都有使用大量共同的数据，好像是glyph set和sharing tables（？我不太 ...</span><br>
<span>说到字体，我思源总有些地方看起来觉得不舒服，然后就一直在用更纱黑体。Windows的字体渲染真是一言难尽。</span><br>
</p><p><b>starash: </b><br>
<span>lwa190212 发表于 2019-11-30 13:16</span><br>
<span> 7za a -t7z -mmt=on -m=LZMA:a=0:d=256m:fb=256 ... Add new data to archive: 300 files, 6720940804 byte ...</span><br>
<span>想起以前套三四层的高压缩文件。</span><br>
</p><p><b>lwa190212: </b><br>
<span>starash 发表于 2019-11-30 15:36</span><br>
<span>想起以前套三四层的高压缩文件。</span><br>
<span>我个人觉得套三四层不如一层高压，除非算法的实现上做了限制</span><br>
<span>我回头看了下原来的文件，发现它用的字典是256m的，都是lzma算法，我用1536m+全部固实才做到这个压缩率，无法想像原文件怎么做到的</span><br>
</p><p><b>starash: </b><br>
<span>lwa190212 发表于 2019-11-30 15:55</span><br>
<span>我个人觉得套三四层不如一层高压，除非算法的实现上做了限制</span><br>
<span>我回头看了下原来的文件，发现它用的字典是2 ...</span><br>
<span>的确我也看不明白这楼主的2%是怎么靠256M字典压出来的... </span><br>
<span>以前需要套三四层就是因为算法有适用范围的限制啊. </span><br>
</p><p><b>qazesz: </b><br>
<span>正常，这个字体真正的字形就只有100多M</span><br>
</p><p><b>lwa190212: </b><br>
<span> 本帖最后由 lwa190212 于 2019-11-30 17:48 编辑 </span><br>
<span>starash 发表于 2019-11-30 16:18</span><br>
<span>的确我也看不明白这楼主的2%是怎么靠256M字典压出来的... </span><br>
<span>以前需要套三四层就是因为算法有适用范围的限 ...</span><br>
<span>看了那个字体里的这个issue：https://github.com/be5invis/Sarasa-Gothic/issues/80</span><br>
<span>终于懂了256mb字典怎么搞定的了</span><br>
<span>通过人工分离相似数据的范围，就可以使用小字典达到更好的效果，源码里也是这个方法，果然还是要看仔细才行</span><br>
<span>手动尝试了下，确实256m字典也压出了158MB的2%压缩率</span><br>
</p><p><b>vxzms: </b><br>
<span>暗藏流 发表于 2019-11-30 15:34</span><br>
<span>说到字体，我思源总有些地方看起来觉得不舒服，然后就一直在用更纱黑体。Windows的字体渲染真是一言难尽 ...</span><br>
<span>hiting的问题吧，win对otf的支持不咋地</span><br>
</p><p><b>mozilla: </b><br>
<span>semerita 发表于 2019-11-30 02:26</span><br>
<span>更新一下</span><br>
<span>经过24楼朋友的说明，我把GUI里面的三个参数拉到相同。压缩方式LZMA,字典256，词256。</span><br>
<span>看见有人因为压缩率太高打不开了：</span><br>
<span>建议将压缩文件分成好几个包 · Issue #119 · be5invis/Sarasa-Gothic</span><br>
</p><p><b>观自在: </b><br>
<span>当初玩御宅伴侣，就是几百兆解出几个G</span><br>
</p><p><b>whatd: </b><br>
<span>lwa190212 发表于 2019-11-30 13:16</span><br>
<span>7za a -t7z -mmt=on -m=LZMA:a=0:d=256m:fb=256 ...</span><br>
<span>Add new data to archive: 300 files, 6720940804 byte ...</span><br>
<span>说吧，啥CPU，压几天了。</span><br>
</p><p><b>计算机组成原理: </b><br>
<span> 本帖最后由 计算机组成原理 于 2019-12-1 19:01 编辑 </span><br>
<span>按照41楼的链接操作了一下，商业的确实强，更别说压缩解压速度上的秒杀了</span><br>
<img src="https://starlemon.bleatingsheep.org/sarasa_rar.pnghttps://starlemon.bleatingsheep.org/sarasa_7z.png" title="https://starlemon.bleatingsheep.org/sarasa_rar.pnghttps://starlemon.bleatingsheep.org/sarasa_7z.png"><br>
</p><p><b>macos: </b><br>
<span> 本帖最后由 macos 于 2019-12-3 09:17 编辑 </span><br>
<span>计算机组成原理 发表于 2019-12-1 17:58</span><br>
<span>按照41楼的链接操作了一下，商业的确实强，更别说压缩解压速度上的秒杀了</span><br>
<span> ...</span><br>
<span>你贴错了吧，大小不对，另外试了下，加-ds和-qo-做的压缩包，应该是压缩到1%</span><br>
</p><p><b>jcyxxx: </b><br>
<span> 想起了当年下CG包，200兆解压出来两个多G</span><br>
<span>—— 来自 OnePlus GM1910, Android 10上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>Panda付: </b><br>
<span>理论上1mb的玩意解压100Gb也是可能的 只要废话多</span><br>
<span>-- 来自 能搜索的 Stage1官方 Android客户端</span><br>
</p>]]></content:encoded>
      <guid isPermaLink="false">1868652[0-50]</guid>
    </item>
  </channel>
</rss>
