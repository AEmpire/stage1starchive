<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0">
  <channel>
    <title>关闭系统HPET对zen2游戏性能有明显提升</title>
    <link>https://bbs.saraba1st.com/2b/</link>
    <description>关闭系统HPET对zen2游戏性能有明显提升</description>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>python-feedgen</generator>
    <lastBuildDate>Thu, 09 Jul 2020 18:50:19 +0000</lastBuildDate>
    <item>
      <title>关闭系统HPET对zen2游戏性能有明显提升[0-50]</title>
      <link>https://bbs.saraba1st.com/2b/thread-1848497-1-1.html</link>
      <description>关闭系统HPET对zen2游戏性能有明显提升&#13;
 本帖最后由 ft5555 于 2019-7-23 16:51 编辑 

引自reddit网友的3700X测试数据
&#13;
anandtech以前做过2700x的数据 也是关闭更好
&#13;
点击Windows键，输入cmd，右键单击结果列表中的cmd.exe，然后选择以管理权限运行命令提示符。
&#13;
要启用HPET作为唯一的计时器，请运行命令 bcdedit / set useplatformclock true
&#13;
要在Windows中禁用HPET，请运行命令bcdedit / deletevalue useplatformclock
&#13;
============================================================
&#13;
如果安装过ryzen master 系统的HPET就会强制开启，卸载后也不会自己关掉。
&#13;
======================================================
&#13;
有趣 AMD官方否认了这个测试
&#13;
AMD_Robert
&#13;
Technical Marketing21 points·8 hours ago
&#13;
You are exactly right. Disabling HPET distorts the system's understanding of time, which causes the system to miscount the frames in a second. If one second isn't one second, then FPS isn't FPS anymore. This data is invalid.
&#13;
Most games use a function called QueryPerformanceCounter() call it "QPC" for short. It's a core Win32 API, and the most simple way to access the best timer available in the system. When a game is counting "frames per second," it's comparing frames rendered against the result of duration measured from QPC. Boom, that's FPS. That's not "backwards"! That's the simplest, most straightforward way to achieve the intended maths.HPET is not the only timer on the system. There are many timers, actually, and they work on a fallback basis. If a user disables a higher-resolution timer, the duration of time reported by two calls to QPC may not actually match the real elapsed time ("ticks") d/t lower timer precision. If the returned time from QPC is longer: reduced FPS. If the returned time from QPC is shorter: increased FPS.Without knowing how each game specifically reports FPS, it's impossible to determine why some games might report higher or lower effect. But the basic principle above shows one of many ways why tinkering with system timers can have deleterious effects on accurate performance reporting.This isn't the first time HPET on/off has been flagged. This allegation/discovery/claim (unsure which word to use) has been circulated for both AMD and Intel platforms over the years. It seems to reappear each time a new platform is released, and then dies off as debunking efforts progress.</description>
      <content:encoded><![CDATA[<p><b>ft5555: </b><br>
<span>关闭系统HPET对zen2游戏性能有明显提升</span><br>
<span> 本帖最后由 ft5555 于 2019-7-23 16:51 编辑 </span><br>
<span>引自reddit网友的3700X测试数据</span><br>
<span>anandtech以前做过2700x的数据 也是关闭更好</span><br>
<span>点击Windows键，输入cmd，右键单击结果列表中的cmd.exe，然后选择以管理权限运行命令提示符。</span><br>
<span>要启用HPET作为唯一的计时器，请运行命令 bcdedit / set useplatformclock true</span><br>
<span>要在Windows中禁用HPET，请运行命令bcdedit / deletevalue useplatformclock</span><br>
<span>============================================================</span><br>
<span>如果安装过ryzen master 系统的HPET就会强制开启，卸载后也不会自己关掉。</span><br>
<span>======================================================</span><br>
<span>有趣 AMD官方否认了这个测试</span><br>
<span>AMD_Robert</span><br>
<span>Technical Marketing21 points·8 hours ago</span><br>
<span>You are exactly right. Disabling HPET distorts the system's understanding of time, which causes the system to miscount the frames in a second. If one second isn't one second, then FPS isn't FPS anymore. This data is invalid.</span><br>
<span>Most games use a function called QueryPerformanceCounter() call it "QPC" for short. It's a core Win32 API, and the most simple way to access the best timer available in the system. When a game is counting "frames per second," it's comparing frames rendered against the result of duration measured from QPC. Boom, that's FPS. That's not "backwards"! That's the simplest, most straightforward way to achieve the intended maths.HPET is not the only timer on the system. There are many timers, actually, and they work on a fallback basis. If a user disables a higher-resolution timer, the duration of time reported by two calls to QPC may not actually match the real elapsed time ("ticks") d/t lower timer precision. If the returned time from QPC is longer: reduced FPS. If the returned time from QPC is shorter: increased FPS.Without knowing how each game specifically reports FPS, it's impossible to determine why some games might report higher or lower effect. But the basic principle above shows one of many ways why tinkering with system timers can have deleterious effects on accurate performance reporting.This isn't the first time HPET on/off has been flagged. This allegation/discovery/claim (unsure which word to use) has been circulated for both AMD and Intel platforms over the years. It seems to reappear each time a new platform is released, and then dies off as debunking efforts progress.</span><br>
</p><p><b>mickoo: </b><br>
<span>战未来</span><br>
</p><p><b>ft5555: </b><br>
<span>mickoo 发表于 2019-7-23 09:11</span><br>
<span>战未来</span><br>
<span>不是战未来 是amd官方超频工具负优化</span><br>
</p><p><b>serial: </b><br>
<span>那么，多核处理器的超线程有什么卵用吗，开不开cb多核分数都一样</span><br>
</p><p><b>失身招领处: </b><br>
<span>我以为是挖坟了。</span><br>
<span>一看时间居然不是2017年</span><br>
</p><p><b>失身招领处: </b><br>
<span>别外，以前我记得HPET开启会导致SSD的4K性能明显下降。</span><br>
</p><p><b>xsummer: </b><br>
<span>还有这种操作</span><br>
</p><p><b>albertfu: </b><br>
<span> ryzenmaster两年过去了还在坚持开HPET。。。</span><br>
</p><p><b>codydie: </b><br>
<span>检查是否已打开HPET，以管理员身份运行命令行， </span><br>
<span>bcdedit /enum</span><br>
<span>如果已打开，useplatformclock的值为YES，如果没有找到useplatformcolck，说明这个键原本就不存在，HPET也没有被打开。 </span><br>
<span>转自：https://bbs.nga.cn/read.php?tid=13962070</span><br>
</p><p><b>JITAN: </b><br>
<span>看见吧里说影响原因是因为开启时候会带来观察者效应……我懵逼了</span><br>
<span>—— 来自 HUAWEI BKL-AL20, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>ft5555: </b><br>
<span>albertfu 发表于 2019-7-23 11:24</span><br>
<span>ryzenmaster两年过去了还在坚持开HPET。。。</span><br>
<span>官方工具超个0.2~0.3G 全被hpet吃掉了</span><br>
</p><p><b>albertfu: </b><br>
<span>ft5555 发表于 2019-7-23 12:24</span><br>
<span>官方工具超个0.2~0.3G 全被hpet吃掉了</span><br>
<span>所以还是BIOS里设置靠谱，反正ryzenmaster也需要重启。。。</span><br>
</p><p><b>eroneko: </b><br>
<span>这帖子下面评论说是因为开了 HPET 之后，计时精确度会有变化，所以一秒不再是之前的一秒，数据变得没有可比性了</span><br>
</p><p><b>泉玲奈: </b><br>
<span>AMD你在干什么啊</span><br>
</p><p><b>真田丸: </b><br>
<span>喷了，不是说在乎游戏都去装3600了吗，高这么点帧数你们肉眼能感觉得到吗？难道每天生产力了再去打开HPET？不嫌累？</span><br>
</p><p><b>albertfu: </b><br>
<span>真田丸 发表于 2019-7-23 13:16</span><br>
<span>喷了，不是说在乎游戏都去装3600了吗，高这么点帧数你们肉眼能感觉得到吗？难道每天生产力了再去打开HPET？ ...</span><br>
<span>HPET关了对生产力应该没啥负面影响，可以一直关着</span><br>
<span>而且HPET forced对牙膏CPU也是debuff，这个debuff比对Ryzen的还要大</span><br>
<span>https://www.anandtech.com/show/12678/a-timely-discovery-examining-amd-2nd-gen-ryzen-results/4</span><br>
<span>default vs HPET forced（ryzenmaster会导致HPET forced，智熄操作）</span><br>
<span>游戏：</span><br>
<span>2700x最高提升15%</span><br>
<span>8700k最高提升76% </span><br>
<span>生产力：</span><br>
<span>2700x最高提升1%</span><br>
<span>8700k最高提升7%</span><br>
</p><p><b>limon: </b><br>
<span>我试了下 ryzenmaster 并没有开启啊</span><br>
</p><p><b>粉色猛男: </b><br>
<span>这么迷惑？官方软件还整负优化</span><br>
</p><p><b>ft5555: </b><br>
<span>albertfu 发表于 2019-7-23 13:40</span><br>
<span>HPET关了对生产力应该没啥负面影响，可以一直关着</span><br>
<span>AMD_Robert</span><br>
<span>Technical Marketing</span><br>
<span>21 points</span><br>
<span>·</span><br>
<span>8 hours ago</span><br>
<span>You are exactly right. Disabling HPET distorts the system's understanding of time, which causes the system to miscount the frames in a second. If one second isn't one second, then FPS isn't FPS anymore. This data is invalid.</span><br>
<span>官方不承认 233</span><br>
</p><p><b>zatsuza: </b><br>
<span>官方的意思是disable后一秒变慢了所以数据看上去提升了，如果关了hpet就能提升性能，amd是吃太饱了才额外做一个高精度计时器让你有耍小聪明的空间咯</span><br>
<span>—— 来自 Realme RMX1901, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>沧粟: </b><br>
<span>把裁判的表换了这是什么民科操作。。</span><br>
</p><p><b>ft5555: </b><br>
<span>zatsuza 发表于 2019-7-23 17:00</span><br>
<span>官方的意思是disable后一秒变慢了所以数据看上去提升了，如果关了hpet就能提升性能，amd是吃太饱了才额外做 ...</span><br>
<span>intel 关了能提升76%呢</span><br>
</p><p><b>zatsuza: </b><br>
<span>ft5555 发表于 2019-7-23 17:11</span><br>
<span>intel 关了能提升76%呢</span><br>
<span>所以你楼上说的没错，把裁判的表调慢了有什么意义</span><br>
<span>—— 来自 Realme RMX1901, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>ft5555: </b><br>
<span>zatsuza 发表于 2019-7-23 17:14</span><br>
<span>所以你楼上说的没错，把裁判的表调慢了有什么意义</span><br>
<span>—— 来自 Realme RMX1901, Android 9上的 S1N ...</span><br>
<span>但是anandtech表示他们不会强制开hpet去测试</span><br>
</p><p><b>midearth: </b><br>
<span>引用第23楼ft5555于2019-07-23 19:13发表的:</span><br>
<span>引用:zatsuza 发表于 2019-7-23 17:14所以你楼上说的没错，把裁判的表调慢了有什......</span><br>
<span>总而言之关hpet并没有用就是了</span><br>
<span>----发送自 STAGE1 App for Android.</span><br>
</p><p><b>mjwells: </b><br>
<span>1903，我装过ryzenmaster，并且使用过，后来卸载了，改用bios超频，bcdedit /enum没发现打开啊。</span><br>
</p><p><b>JimmyZ: </b><br>
<span>失身招领处 发表于 2019-7-23 09:51</span><br>
<span>我以为是挖坟了。</span><br>
<span>一看时间居然不是2017年</span><br>
<span>"This isn't the first time HPET on/off has been flagged. This allegation/discovery/claim (unsure which word to use) has been circulated for both AMD and Intel platforms over the years. It seems to reappear each time a new platform is released, and then dies off as debunking efforts progress."</span><br>
<span>你没错. 这帖子说明上面大多回帖者都不看英文.</span><br>
</p><p><b>albertfu: </b><br>
<span>回家看了下，1903，下最新版ryzenmaster，装完不卸载，bcdedit /enum没有useplatformclock</span><br>
<span>BIOS里面HPET是默认的enabled，不过BCD里面不force HPET就没事吧</span><br>
<span>估计新版ryzenmaster已经不再强制useplatformclock了</span><br>
</p>]]></content:encoded>
      <guid isPermaLink="false">1848497[0-50]</guid>
    </item>
  </channel>
</rss>
