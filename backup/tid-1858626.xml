<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0">
  <channel>
    <title>Android手机运存越来越大,为什么后台应用还是会被「杀」?</title>
    <link>https://bbs.saraba1st.com/2b/</link>
    <description>Android手机运存越来越大,为什么后台应用还是会被「杀」?</description>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>python-feedgen</generator>
    <lastBuildDate>Thu, 09 Jul 2020 17:46:40 +0000</lastBuildDate>
    <item>
      <title>Android手机运存越来越大,为什么后台应用还是会被「杀」?[50-100]</title>
      <link>https://bbs.saraba1st.com/2b/thread-1858626-1-1.html</link>
      <description>Android手机运存越来越大,为什么后台应用还是会被「杀」?&#13;
 本帖最后由 gambleed 于 2019-10-9 15:09 编辑 

https://sspai.com/post/56818不知不觉间 Android 陷入了一个关于「后台」的怪圈：一边各大厂商陆续推出了 12G RAM 的手机，另一边你刚刚放到后台的下载任务没有如预期那样后台挂机下载，打开微信发现还得陪启动画面的孤独小人共赏蓝色星球，按照教程辛辛苦苦做了半个小时的 Tasker 规则、却没有按照计划自动执行……于是一个耳熟能详的句子开始在我们脑海中成型——我的后台又被「杀」了。
&#13;
应用开发者的「控诉」
&#13;
如果你第二天早上醒来发现睡眠追踪应用里的记录数据「一马平川」，并不是因为你「睡得死」，而是睡眠追踪应用根本就没有正常工作。
&#13;
遇到上述问题的人不止你一个，很多人选择向这些应用的开发者反馈问题，殊不知问题其实不在应用本身。Android 平台著名睡眠追踪应用 Sleep as Android 的开发团队 Urbandroid Team 不堪其扰，索性上线了一个名为「别『杀』我应用」的网站，矛头直指手机厂商糟糕的后台管理机制。https://cdn.sspai.com/2019/09/27/96371966b327cdb53419604b34b2fadc.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1Don't kill my app! 网站对 OEM 系统的评分
&#13;
以三星为例，Urbandroid Team 称，三星的部分机型在升级到基于 Android 9 的 One UI 后「杀后台」现象变得尤为严重，自适应电池（Adaptive Battery）机制相比原生 Android 变得尤为激进，3 天内没有启动过的应用甚至无法从后台再次启动。最为糟糕的情况是，如果你安装了一个可以自动跳过周末的第三方闹钟，那这个闹钟应用很有可能不会像系统闹钟那样在下周一早上准时响起……
&#13;
正如「别『杀』我应用」网站上控诉的那样，拥有类似机制的还包括华为、一加、小米、华硕等等手机厂商的定制版 Android 系统，它们管理后台的方式大同小异，但都秉承着 iOS 上那一套「划掉就杀掉」的原则——当我们把某款应用的任务卡片从多任务界面划去，它们也就彻底从手机后台中抹除掉了。这里你可能会问很多问题：
&#13;
[*]Android 运行内存越来越充裕，为什么会有如此严重的「杀后台」现象？
&#13;
[*]原生 Android 也采用了一套类似的卡片多任务交互方式，有什么区别？
&#13;
[*]Android 究竟需不需要借助「一键清理」这样的方式来释放运行内存？
&#13;
我们得从一些基础的原理说起。
&#13;
Android 的内存回收机制
&#13;
在 官方文档 中，Google 将「不受应用自身直接控制的应用进程生命周期」描述为 Android 最为基础也最为独特的核心特性，这里我们不妨将「应用进程生命周期」暂时理解为文章开头和第一部分所说的「后台」或「后台进程（process）」。所以 Android 应用的后台进程去留本应是由 Android 系统来决定的。当可用运行内存空间不足时，Android 系统会自行决定对特定应用后台进程占用的空间进行回收释放，这个过程中 Android 挥舞着的那把大刀，叫做 LMK（Low Memory Killer）。那 LMK 又是如何判断哪些应用可以被「杀」掉、哪些应用又该暂时放过的呢？每个应用都有各种各样的组成部分，其中特定组件的运行状态共同组成了一套供 LMK 进行内存回收的「优先级」参考，包括：前台进程、可见进程、服务进程和缓存进程。https://cdn.sspai.com/2019/09/29/284d08174190ed23035fbb08aac6400c.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1一款应用通常会包含的进程类型
&#13;
前台进程、可见进程和服务进程往往与我们正在手机上执行的操作直接或间接相关，比如正在前台供我们交互和操作的活动窗口（Activity）、正在通过广播接收器（BroadcastReceiver）等待触发的 Tasker 规则、正在后台通过 Wi-Fi 网络自动上传备份照片的 Google Photos 以及前面提到的有待触发的闹钟等等。这些进程优先级从高到低依次递减，LMK 一般不会触及。
&#13;
缓存进程则是那些暂时放在运行内存中的部分，也是和本文探讨话题主要相关的重点。在一个正常运行的（Android）操作系统中，缓存进程应是内存管理机制唯一需要交互的部分：一个运行良好的 Android 系统通常会在运行内存中暂存多个缓存进程以随时调用，提高应用间的切换效率，同时对那些较为老旧的不活跃进程进行有计划的回收。只有在极端情况下，比如 Android 系统在回收掉所有缓存进程后发现空闲内存依然不够用（比如在低内存的「老爷机」上运行《崩坏 3》），这时 LMK 才会根据优先级继续对服务进程、可见进程和前台进程采取回收策略。而当这些我们在正常使用中能够直观感受到的进程都不得不被被回收时，文章开头提到的微信重载、音乐中断、下载消失等等现象也就出现了。
&#13;
谁动了你的后台
&#13;
在可用内存充裕的情况下遭遇「杀后台」现象，一方面可能是 LMK 这把「大刀」出了问题（常见于 Android 9 时期的 Pixel 3 用户），另一方面则有可能是其它规则额外干预了 Android 系统正常的内存回收机制。
&#13;
这里提到的「其它规则」主要有两种形式，一种类似部分华为设备上预装的「省电精灵」，它会将所有没有加入后台白名单中的应用后台统统清除，另一种则依托于 Google 推出的后台检查、后台限制和自适应电池等功能进行「魔改」，让这些功能的实际效果远超预期，甚至达到意料之外的负面效果。根据 Don't kill my app! 的统计，第二种后台干预机制在三星、一加和早期的诺基亚机型中常见，这里厂商们通常会用到一种类似「白名单」的方法来进行过滤。
&#13;
以三星手机基于 Android 9 的 One UI 为例，除了微信、QQ 等国内常见应用，One UI 默认会为所有第三方应用关闭「允许后台活动」这一选项，同时开启「优化电池使用量」这一功能。https://cdn.sspai.com/2019/09/27/7cb5b377c1cf1f76c12b0da47d94ec49.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1One UI 的后台管理
&#13;
部分搭载氢 OS 的一加机型则将上面提到的应用进程进行拆分，除了基于原生 Android 的后台限制、电池优化，还有一套名为「自启动管理」的设置来对应用的自启动进行管理以及一套名为「深度优化」的电池优化机制，后者会造成很多智能手表、手环设备在一段时间后丢失与手机的蓝牙连接，最终导致睡眠追踪、运动记录等等功能的失效。https://cdn.sspai.com/2019/09/27/75b4b0702e61110230125cfd6525a020.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1氢 OS 的自启动管理
&#13;
问题在于上述功能埋藏较深，一般用户在安装应用后往往不会第一时间前往设置，一加的氢 OS 更是以系统更新之后自动重置部分用户设置闻名，那些需要在后台正常工作的应用，因此也被都被直接扔进了原生 Android 中用来限制「毒瘤」应用的「黑箱」里。
&#13;
换句话说，国内大部分定制 ROM 在后台管理这件事情上都选择采用一种「宁肯错杀一千不肯放过一个」的做法。
&#13;
多任务管理还是后台管理？
&#13;
从某种程度上来说，国产手机厂商在 Android 后台管理上的做法虽然偏激，但它们都是国内特殊生态下的产物 。
&#13;
一方面，尽管 Google 为 Android 设想了一套非常理想化的应用运行与后台管理机制，但大多数于原生 Android 中行之有效的后台管理机制在国内似乎都会变成「鸡肋」。
&#13;
如果 Google 有 100 种提升 Android 应用运行效率，保证后台绿色、纯净的方法，国内毒瘤应用开发商就有 101 种绕过这些限制的方法。借助共用的第三方推送服务实现链式唤醒、借助透明的悬浮窗保证后台存活、通过不断获取定位的方式来避免进程被系统回收……不管是出于实现消息推送这样单纯的目的还是为了不断唤醒用户设备以实现 KPI 目标这种下作的行为，在国内 Android 生态中均有出现。https://cdn.sspai.com/2019/09/29/fcdc8c1f4a083f92774b88171ad3886d.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1绿色守护专门针对链式唤醒推出的唤醒追踪功能
&#13;
虽然国内外的具体环境有所不同，但这类设计不规范的 Android 应用带来的问题却是一样的，这类应用放在后台不仅不会为我们带来便利，反而还会因为频繁唤醒设备带来不小的耗电问题。待机续航问题作为悬在国产 Android 机头顶的几把利剑之一，手机厂商不得不各自从系统层面推出自家的应对机制——这就有了上面提到的各种偏激式的后台管理方法。
&#13;
另一方面，这里还涉及到一个非常重要的概念区分：多任务管理和后台管理究竟是不是一回事？
&#13;
国内 Android 生态由于早期受 iOS 影响较深，无论是开发商还是用户都更倾向于把「将应用卡片从多任务列表里划掉」的行为理解为清除对应用的后台进程。在上面提到的特殊生态环境的影响之下，这里被清除的后台进程往往又包括那些用于保证应用后台运行的可见进程、服务进程乃至前台进程在内。https://cdn.sspai.com/2019/09/29/868d4e6d0430f31239d76a02785b22c9.gif?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1iOS 的任务管理方式 | 图：Javi Pérez
&#13;
在酷安应用市场，甚至还有得以在原生 Android 上实现类似「划掉卡片即停止运行」效果的应用，iOS 的后台管理理念在国内有多么深入人心可见一斑。https://cdn.sspai.com/2019/09/29/c9432af75fd3ceabd0e2ed410d614e58.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1但这种后台管理理念却与 Google 对 Android 的多任务管理设计方式相悖。Google 一直以来都将 Android 手机上呼出任务卡片的那个界面叫做 Recents，最近几个版本的 Android 系统更是将其本地化为「概览」。结合 Google 在 Android 9 和 Android 10 手势交互上的变革，注重多任务管理而非后台管理的意图也越发明显。https://cdn.sspai.com/2019/09/29/dbf350dc18ba67e7f0c760557cb56cdb.gif?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1当最近运行的应用以一张张卡片的形式呈现在我们面前时，Google 想要呈现的是一个能够让我们在不同任务间快速切换的多任务交互，而在理想状态下，后台管理则是交由系统处理、完全不应被用户感知的。
&#13;
至于如何理性看待 Android 平台的后台管理，这里我们不妨借用绿色守护开发者 @OasisFeng 在「Android 多任务界面的划除交互」这个话题上的 答疑 来回答这个问题：Android 从 8.0 开始大幅度调整了应用的后台控制策略……原则上，只要适配了 Android 8+ 的应用，就不能再持续在后台占据内存……至于耗电，这是一个需要平衡的取舍，你如果的确需要某个应用的后台机制，那就得让它略微耗一点电（不能既要马儿跑得快，又让马儿不吃草吧）。如果你压根不需要它的后台机制，或者它的后台耗电太过分了，那么你可以在应用设置中限制应用的后台能力（非原生系统可能不一定有这个选项）。总之，你并不需要「杀应用」，也没必要为这些破事儿操碎心。这种关注多任务管理、将后台管理主动权交还给系统的理念，随着 Android 10 的正式放出还将得到进一步强化——Google 将不再允许预装 Android 10 的手机通过清除多任务卡片的方式来终止后台进程，这个要求同样也被加入了 Google 的 CTS 认证流程。
&#13;
换句话说，今后绝大部分需要在海外市场搭载 Google 服务上市的手机都必须满足这个要求。
&#13;
小结9 月 25 日，酝酿已久的安卓统一推送联盟正式宣布收到华为、OPPO、一加和 realme 四家公司的进度确认，虽然 Google 的缺席也让国内 Android 生态也变得异常复杂，但国内 Android 设备也能用上的统一推送服务也算是终于迈出了具有实际意义的第一步。只是距离转变人们对 Android「杀后台」这件事的看法依然还有很长的路要走。事实上，国内早在四五年前就出现过一次对「Android 需不需要『杀后台』」问题的科普，但收效甚微，盲从 iOS 设计风格和交互逻辑国内 Android 厂商要负很大一部分责任。希望靠谱、省电的统一推送系统能成为改观的第一步，也希望 @OasisFeng 口中那个甚至可以跨越设备重启恢复「后台状态」的理想化生态早日到来——至于当下，我们依然只能见招拆招，遇到应用无法正常执行后台任务时打开手机设置仔细翻找、设置，把它们扔进白名单或是给它们的后台卡片套个「锁」……</description>
      <content:encoded><![CDATA[<p><b>就烦起名字: </b><br>
<span>alexwu 发表于 2019-10-9 21:12</span><br>
<span>最舒服的还是当年用安卓4.4的索尼z2那时候，root也简单，直接root加绿色守护，想让谁活谁死全都管理的服服 ...</span><br>
<span>严重同意 4.4的Z2用的真舒服</span><br>
</p><p><b>失落之翼: </b><br>
<span>因为安卓流氓APP越来越流氓了啊，大公司也不例外甚至更甚，因为有些是你日常要用到的</span><br>
</p><p><b>❃✽✾✶✻✼: </b><br>
<span>我有一次看到腾讯地图更新提醒    大概是关掉了耗电提醒    吓的我直接删了    后台要能杀干净要有人提示我杀是刚需</span><br>
</p><p><b>cubesun: </b><br>
<span>引用第13楼咲月露娜于2019-10-09 16:24发表的:</span><br>
<span>一直都在用类原生，安卓456的时候主要研究怎么杀流氓，安卓789的时候主要研究怎么后台保活。。。</span><br>
<span>@咲月露娜</span><br>
<span>真实</span><br>
<span>----发送自 HTC HTC 2Q4D200,Android 9</span><br>
</p><p><b>gulant: </b><br>
<span>你们都关心杀后台，我最讨厌就是那些全家桶唤醒，明明进入去结束任务了，结果熄屏过段时间又自启了，例如新浪的微博，挺烦的</span><br>
</p><p><b>zatsuza: </b><br>
<span>虾扯蛋777 发表于 2019-10-10 06:18</span><br>
<span>最多5个？能改么？</span><br>
<span>不能，没有找到改的地方...</span><br>
<span>对系统灵活度有要求的人千万不要考虑oppo，买万普拉斯吧</span><br>
<span>—— 来自 Realme RMX1901, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>benjin: </b><br>
<span>男子汉 发表于 2019-10-10 04:21</span><br>
<span>你高估了用户的认知。大部分用户根本搞不清后台和退出的区别，也不在乎。推送是啥更是没心思了解。</span><br>
<span>对他 ...</span><br>
<span>像父母用手机....任务列表里面是多个卡片不划掉...</span><br>
</p><p><b>qhlixpfh: </b><br>
<span>华为这种设定 </span><br>
<span>恨不得你不看手机的时候给你关机.....</span><br>
</p><p><b>rentrody: </b><br>
<span>要是给个直观的任务管理器感觉会好很多</span><br>
</p><p><b>308: </b><br>
<span>rentrody 发表于 2019-10-13 17:24:16</span><br>
<span>要是给个直观的任务管理器感觉会好很多这样的话安卓就变得有点geek了</span><br>
<span>-- 来自 能手机投票的 Stage1官方 iOS客户端</span><br>
</p><p><b>红叶: </b><br>
<span>没用的，反正国产怎么恶心怎么来</span><br>
</p><p><b>win8: </b><br>
<span>rentrody 发表于 2019-10-13 17:24</span><br>
<span>要是给个直观的任务管理器感觉会好很多</span><br>
<span>2.*的时候的确是有个任务管理器的界面</span><br>
</p><p><b>madbird302: </b><br>
<span>男子汉 发表于 2019-10-10 04:21</span><br>
<span>你高估了用户的认知。大部分用户根本搞不清后台和退出的区别，也不在乎。推送是啥更是没心思了解。</span><br>
<span>对他 ...</span><br>
<span>正解，这才是市场上终端用户的真实习惯，绝大多数人都是普通用户</span><br>
</p><p><b>qieyifonger: </b><br>
<span>菊花爸爸会帮睿智的孝子贤孙们判断哪些该杀哪些该留，用就行了，瞎BB也没用，菊花爸爸给用的，就是好的，不给用的，就是不好的，真是无微不至的关怀，好羡慕～</span><br>
<span>—— 来自 Xiaomi Redmi K20 Pro, Android 10上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>リュウセイ: </b><br>
<span>大陆要搞自己的统一推送？</span><br>
<span>不敢买大陆品牌了</span><br>
</p><p><b>marine_01: </b><br>
<span> 本帖最后由 marine_01 于 2019-12-9 15:42 编辑 </span><br>
<span>kelveen 发表于 2019-10-9 16:42</span><br>
<span>其实华为、三星这种处理方式本质上是没问题的，用户应该有渠道选择自己认为需要常驻/自动终止的APP，问题在 ...</span><br>
<span>为什么app需要常驻后台？消息可以通过推送走，根本不需要在后台主动去拉。那一般的信息流APP在后台的意义是？</span><br>
<span>所以最应该解决的问题是，让推送可以正常工作，app不要常驻后台。</span><br>
</p><p><b>308: </b><br>
<span>marine_01 发表于 2019-12-09 15:40:57</span><br>
<span>为什么app需要常驻后台？消息可以通过推送走，根本不需要在后台主动去拉。那一般的信息流APP在后台的意 ...所以需要一个统一的推送机制🍎不担心🐒机就...</span><br>
<span>-- 来自 能手机投票的 Stage1官方 iOS客户端</span><br>
</p><p><b>萝卜roto: </b><br>
<span>包括nex也是，很多程序就算锁住了过一会就莫名其妙就没了，尤其是accu和鹅球。但待机还是保持着每小时0.6左右的耗电，已经什么都关了。</span><br>
<span>—— 来自 vivo NEX S, Android 9上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>zhrs456: </b><br>
<span>zatsuza 发表于 2019-10-12 20:49</span><br>
<span>不能，没有找到改的地方...</span><br>
<span>对系统灵活度有要求的人千万不要考虑oppo，买万普拉斯吧</span><br>
<span>一加有个吊灵活度 杀疯了 </span><br>
</p><p><b>marine_01: </b><br>
<span>308 发表于 2019-12-9 15:44</span><br>
<span>所以需要一个统一的推送机制🍎不担心🐒机就...</span><br>
<span>-- 来自 能手机投票的 Stage1官方 iOS客户端 ...</span><br>
<span>一部分用户还是不清楚推送的意义，觉得微信qq离开后台就接收不到消息。其实根本就是鹅肠不愿意配合做好推送。iPhone上我qq和微信从来都是不给后台的，消息一样可以及时收到。</span><br>
</p><p><b>superzj87: </b><br>
<span>都是硬件升级快给惯的，刚出智能机时的app也没少几个功能</span><br>
<span>—— 来自 HUAWEI EML-TL00, Android 9上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>Xerxes_2: </b><br>
<span>我需要一边开手游一边QQ和群友聊天吹水，可是有的时候还是会被杀，8G内存用的比Windows还憋屈</span><br>
<span>—— 来自 OnePlus GM1910, Android 10上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>kelveen: </b><br>
<span>marine_01 发表于 2019-12-9 15:40</span><br>
<span>为什么app需要常驻后台？消息可以通过推送走，根本不需要在后台主动去拉。那一般的信息流APP在后台的意义 ...</span><br>
<span>app常驻后台是个广义的概念，而不只是关注在信息通知上。你自己后面也说了是“信息流app”，我指的不仅仅这些，最简单的例子，我有个拿来打发碎片时间的手游，不常驻后台的话每次启动都要等个十几二十秒，对于高频次开启的app来说很浪费时间。</span><br>
</p><p><b>zhrs456: </b><br>
<span>kelveen 发表于 2019-12-9 19:22</span><br>
<span>app常驻后台是个广义的概念，而不只是关注在信息通知上。你自己后面也说了是“信息流app”，我指的不仅仅 ...</span><br>
<span>+1 用个等于8P的8G连个手游都挂不住 省电关了优化关了锁了 开个twitter微博或者看看直播回来又是重载登录 恼火</span><br>
</p><p><b>starash: </b><br>
<span>yxch 发表于 2019-10-9 20:07</span><br>
<span>按我上面说的做，把系统熬服了，就不杀了。另外开了省电模式无论如何也挂不住了。我看华为论坛有人正在播 ...</span><br>
<span>熬什么服啊. 我要挂着程序就一直叮咚叮咚响啊. 是我被熬服了好么. </span><br>
</p><p><b>土豆麻辣人: </b><br>
<span>macos 发表于 2019-10-9 01:02</span><br>
<span>嗯，ios还是很羡慕安卓的大内存的，现在只能在智能识别下随性被杀，如果内存涨到6g那能活多少后台 ...</span><br>
<span>其实iOS 4G就能活不少了，iPad上我经常开了好几个应用后，最早的一个手游还活着。</span><br>
</p><p><b>土豆麻辣人: </b><br>
<span>lovepefe 发表于 2019-10-9 09:52</span><br>
<span>苹果的墓碑机制+统一推送</span><br>
<span>这么久看来确实棋高一筹啊</span><br>
<span>但是兼具后台墓碑+统一推送+统一商店而且还能同步pc的Windows phone，硬生生的被微软给玩死了。</span><br>
</p><p><b>zhrs456: </b><br>
<span>土豆麻辣人 发表于 2019-12-10 17:53</span><br>
<span>但是兼具后台墓碑+统一推送+统一商店而且还能同步pc的Windows phone，硬生生的被微软给玩死了。 ...</span><br>
<span>做个就是个半成品 哪来的玩死 当年WP7 WP8的应用开发人员需要给巨硬擦多少屁股 </span><br>
</p><p><b>土豆麻辣人: </b><br>
<span>zhrs456 发表于 2019-12-10 04:09</span><br>
<span>做个就是个半成品 哪来的玩死 当年WP7 WP8的应用开发人员需要给巨硬擦多少屁股...</span><br>
<span>哪个系统一开始不是半成品？11、12年时候的android也没好到哪里去，iOS更是不越狱没法用。</span><br>
<span>wp还是死在7.5到8，8到10，改了两次架构，应用互不兼容，开发者直接用脚投票了。</span><br>
</p><p><b>zhrs456: </b><br>
<span>土豆麻辣人 发表于 2019-12-10 18:15</span><br>
<span>哪个系统一开始不是半成品？11、12年时候的android也没好到哪里去，iOS更是不越狱没法用。</span><br>
<span>wp还是死在7. ...</span><br>
<span>12年的安德猴不谈 iOS不越狱没法用？那我不知道我那4S是怎么用的了 可能是因为我在AppStore和iTunesStore花钱买软件买音乐吧 铃声也好游戏也罢 不知道怎么用不了</span><br>
<span>WP7/7.8/8/8.1 Windows10Mobile 哪一个不是半成品？是一开始么？就没开始过。</span><br>
</p><p><b>小司司: </b><br>
<span>linjia 发表于 2019-10-9 18:24</span><br>
<span>pc上windows和 linux发行版上正常是不会杀进程的，难道为了省电吗</span><br>
<span>进程不杀，但是会把一些低优先级进程所占的内存放在硬盘虚拟内存上~~</span><br>
<span>然后如果实在内容不够，你是无法正常创建新的内存占用任务的~</span><br>
<span>手机丧心病狂的内存管理本质上是电源管理~</span><br>
</p><p><b>lixianfyss: </b><br>
<span>小司司 发表于 2019-12-10 18:28</span><br>
<span>进程不杀，但是会把一些低优先级进程所占的内存放在硬盘虚拟内存上~~</span><br>
<span>然后如果实在内容不够，你是无法正 ...</span><br>
<span>下滑锁住应用根本就形同虚设。</span><br>
</p><p><b>小司司: </b><br>
<span>lixianfyss 发表于 2019-12-11 09:59</span><br>
<span>下滑锁住应用根本就形同虚设。</span><br>
<span>相比挂起软件被清内存~</span><br>
<span>我对现在没被清的软件正常唤醒后先给你上几秒广告更不爽</span><br>
</p><p><b>天神十三煞: </b><br>
<span>我就三个字</span><br>
<span>生产力</span><br>
</p><p><b>lixianfyss: </b><br>
<span>小司司 发表于 2019-12-11 10:03</span><br>
<span>相比挂起软件被清内存~</span><br>
<span>我对现在没被清的软件正常唤醒后先给你上几秒广告更不爽 ...</span><br>
<span>看几秒广告也比等游戏启动十几秒强太多。</span><br>
</p><p><b>小司司: </b><br>
<span>lixianfyss 发表于 2019-12-11 15:23</span><br>
<span>看几秒广告也比等游戏启动十几秒强太多。</span><br>
<span>使用习惯不同~~</span><br>
<span>你这边确实会因为游戏启动头疼</span><br>
<span>我手机的主要使用场景是看小说，早上看小说，到了地铁，我打开地铁app刷过门禁，再切回小说，出广告~</span><br>
<span>看一会儿出去回个微信，看个新闻，回来，又插广告~~半分钟到几分钟的事~你说能不能忍？      </span><br>
</p><p><b>瓦格雷: </b><br>
<span>既然我划掉了 当然说明我不要它运行了 杀掉才是正确应对啊</span><br>
</p><p><b>deepview: </b><br>
<span>小司司 发表于 2019-12-11 15:33</span><br>
<span>使用习惯不同~~</span><br>
<span>你这边确实会因为游戏启动头疼</span><br>
<span>推荐个小说软件 阅读 好用无广告</span><br>
<span>—— 来自 samsung SM-G9750, Android 9上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>小司司: </b><br>
<span>deepview 发表于 2019-12-11 18:15</span><br>
<span>推荐个小说软件 阅读 好用无广告</span><br>
<span>—— 来自 samsung SM-G9750, Android 9上的 S1Next-鹅版 v2.2.0.1 ...</span><br>
<span>有地址没？？</span><br>
<span>我这里应用市场唯一一个全名匹配的是掌阅给华为oem的~~</span><br>
</p><p><b>deepview: </b><br>
<span>小司司 发表于 2019-12-12 10:02</span><br>
<span>有地址没？？</span><br>
<span>我这里应用市场唯一一个全名匹配的是掌阅给华为oem的~~</span><br>
<span>酷安市场搜</span><br>
<span>—— 来自 samsung SM-G9750, Android 9上的 S1Next-鹅版 v2.2.0.1</span><br>
</p><p><b>panda_vs_panda: </b><br>
<span>zhrs456 发表于 2019-12-10 18:26</span><br>
<span>12年的安德猴不谈 iOS不越狱没法用？那我不知道我那4S是怎么用的了 可能是因为我在AppStore和iTunesStore ...</span><br>
<span>ios1的时候自己研究越狱，花一整晚的时候研究怎么越狱成功，然后装几个下拉菜单插件，再搞了些有的没的，再然后换了4就没越过。看到9012年了还没有稳定推送的国内安卓用户感觉真的是可怜</span><br>
</p>]]></content:encoded>
      <guid isPermaLink="false">1858626[50-100]</guid>
    </item>
    <item>
      <title>Android手机运存越来越大,为什么后台应用还是会被「杀」?[0-50]</title>
      <link>https://bbs.saraba1st.com/2b/thread-1858626-1-1.html</link>
      <description>Android手机运存越来越大,为什么后台应用还是会被「杀」?&#13;
 本帖最后由 gambleed 于 2019-10-9 15:09 编辑 

https://sspai.com/post/56818不知不觉间 Android 陷入了一个关于「后台」的怪圈：一边各大厂商陆续推出了 12G RAM 的手机，另一边你刚刚放到后台的下载任务没有如预期那样后台挂机下载，打开微信发现还得陪启动画面的孤独小人共赏蓝色星球，按照教程辛辛苦苦做了半个小时的 Tasker 规则、却没有按照计划自动执行……于是一个耳熟能详的句子开始在我们脑海中成型——我的后台又被「杀」了。
&#13;
应用开发者的「控诉」
&#13;
如果你第二天早上醒来发现睡眠追踪应用里的记录数据「一马平川」，并不是因为你「睡得死」，而是睡眠追踪应用根本就没有正常工作。
&#13;
遇到上述问题的人不止你一个，很多人选择向这些应用的开发者反馈问题，殊不知问题其实不在应用本身。Android 平台著名睡眠追踪应用 Sleep as Android 的开发团队 Urbandroid Team 不堪其扰，索性上线了一个名为「别『杀』我应用」的网站，矛头直指手机厂商糟糕的后台管理机制。https://cdn.sspai.com/2019/09/27/96371966b327cdb53419604b34b2fadc.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1Don't kill my app! 网站对 OEM 系统的评分
&#13;
以三星为例，Urbandroid Team 称，三星的部分机型在升级到基于 Android 9 的 One UI 后「杀后台」现象变得尤为严重，自适应电池（Adaptive Battery）机制相比原生 Android 变得尤为激进，3 天内没有启动过的应用甚至无法从后台再次启动。最为糟糕的情况是，如果你安装了一个可以自动跳过周末的第三方闹钟，那这个闹钟应用很有可能不会像系统闹钟那样在下周一早上准时响起……
&#13;
正如「别『杀』我应用」网站上控诉的那样，拥有类似机制的还包括华为、一加、小米、华硕等等手机厂商的定制版 Android 系统，它们管理后台的方式大同小异，但都秉承着 iOS 上那一套「划掉就杀掉」的原则——当我们把某款应用的任务卡片从多任务界面划去，它们也就彻底从手机后台中抹除掉了。这里你可能会问很多问题：
&#13;
[*]Android 运行内存越来越充裕，为什么会有如此严重的「杀后台」现象？
&#13;
[*]原生 Android 也采用了一套类似的卡片多任务交互方式，有什么区别？
&#13;
[*]Android 究竟需不需要借助「一键清理」这样的方式来释放运行内存？
&#13;
我们得从一些基础的原理说起。
&#13;
Android 的内存回收机制
&#13;
在 官方文档 中，Google 将「不受应用自身直接控制的应用进程生命周期」描述为 Android 最为基础也最为独特的核心特性，这里我们不妨将「应用进程生命周期」暂时理解为文章开头和第一部分所说的「后台」或「后台进程（process）」。所以 Android 应用的后台进程去留本应是由 Android 系统来决定的。当可用运行内存空间不足时，Android 系统会自行决定对特定应用后台进程占用的空间进行回收释放，这个过程中 Android 挥舞着的那把大刀，叫做 LMK（Low Memory Killer）。那 LMK 又是如何判断哪些应用可以被「杀」掉、哪些应用又该暂时放过的呢？每个应用都有各种各样的组成部分，其中特定组件的运行状态共同组成了一套供 LMK 进行内存回收的「优先级」参考，包括：前台进程、可见进程、服务进程和缓存进程。https://cdn.sspai.com/2019/09/29/284d08174190ed23035fbb08aac6400c.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1一款应用通常会包含的进程类型
&#13;
前台进程、可见进程和服务进程往往与我们正在手机上执行的操作直接或间接相关，比如正在前台供我们交互和操作的活动窗口（Activity）、正在通过广播接收器（BroadcastReceiver）等待触发的 Tasker 规则、正在后台通过 Wi-Fi 网络自动上传备份照片的 Google Photos 以及前面提到的有待触发的闹钟等等。这些进程优先级从高到低依次递减，LMK 一般不会触及。
&#13;
缓存进程则是那些暂时放在运行内存中的部分，也是和本文探讨话题主要相关的重点。在一个正常运行的（Android）操作系统中，缓存进程应是内存管理机制唯一需要交互的部分：一个运行良好的 Android 系统通常会在运行内存中暂存多个缓存进程以随时调用，提高应用间的切换效率，同时对那些较为老旧的不活跃进程进行有计划的回收。只有在极端情况下，比如 Android 系统在回收掉所有缓存进程后发现空闲内存依然不够用（比如在低内存的「老爷机」上运行《崩坏 3》），这时 LMK 才会根据优先级继续对服务进程、可见进程和前台进程采取回收策略。而当这些我们在正常使用中能够直观感受到的进程都不得不被被回收时，文章开头提到的微信重载、音乐中断、下载消失等等现象也就出现了。
&#13;
谁动了你的后台
&#13;
在可用内存充裕的情况下遭遇「杀后台」现象，一方面可能是 LMK 这把「大刀」出了问题（常见于 Android 9 时期的 Pixel 3 用户），另一方面则有可能是其它规则额外干预了 Android 系统正常的内存回收机制。
&#13;
这里提到的「其它规则」主要有两种形式，一种类似部分华为设备上预装的「省电精灵」，它会将所有没有加入后台白名单中的应用后台统统清除，另一种则依托于 Google 推出的后台检查、后台限制和自适应电池等功能进行「魔改」，让这些功能的实际效果远超预期，甚至达到意料之外的负面效果。根据 Don't kill my app! 的统计，第二种后台干预机制在三星、一加和早期的诺基亚机型中常见，这里厂商们通常会用到一种类似「白名单」的方法来进行过滤。
&#13;
以三星手机基于 Android 9 的 One UI 为例，除了微信、QQ 等国内常见应用，One UI 默认会为所有第三方应用关闭「允许后台活动」这一选项，同时开启「优化电池使用量」这一功能。https://cdn.sspai.com/2019/09/27/7cb5b377c1cf1f76c12b0da47d94ec49.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1One UI 的后台管理
&#13;
部分搭载氢 OS 的一加机型则将上面提到的应用进程进行拆分，除了基于原生 Android 的后台限制、电池优化，还有一套名为「自启动管理」的设置来对应用的自启动进行管理以及一套名为「深度优化」的电池优化机制，后者会造成很多智能手表、手环设备在一段时间后丢失与手机的蓝牙连接，最终导致睡眠追踪、运动记录等等功能的失效。https://cdn.sspai.com/2019/09/27/75b4b0702e61110230125cfd6525a020.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1氢 OS 的自启动管理
&#13;
问题在于上述功能埋藏较深，一般用户在安装应用后往往不会第一时间前往设置，一加的氢 OS 更是以系统更新之后自动重置部分用户设置闻名，那些需要在后台正常工作的应用，因此也被都被直接扔进了原生 Android 中用来限制「毒瘤」应用的「黑箱」里。
&#13;
换句话说，国内大部分定制 ROM 在后台管理这件事情上都选择采用一种「宁肯错杀一千不肯放过一个」的做法。
&#13;
多任务管理还是后台管理？
&#13;
从某种程度上来说，国产手机厂商在 Android 后台管理上的做法虽然偏激，但它们都是国内特殊生态下的产物 。
&#13;
一方面，尽管 Google 为 Android 设想了一套非常理想化的应用运行与后台管理机制，但大多数于原生 Android 中行之有效的后台管理机制在国内似乎都会变成「鸡肋」。
&#13;
如果 Google 有 100 种提升 Android 应用运行效率，保证后台绿色、纯净的方法，国内毒瘤应用开发商就有 101 种绕过这些限制的方法。借助共用的第三方推送服务实现链式唤醒、借助透明的悬浮窗保证后台存活、通过不断获取定位的方式来避免进程被系统回收……不管是出于实现消息推送这样单纯的目的还是为了不断唤醒用户设备以实现 KPI 目标这种下作的行为，在国内 Android 生态中均有出现。https://cdn.sspai.com/2019/09/29/fcdc8c1f4a083f92774b88171ad3886d.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1绿色守护专门针对链式唤醒推出的唤醒追踪功能
&#13;
虽然国内外的具体环境有所不同，但这类设计不规范的 Android 应用带来的问题却是一样的，这类应用放在后台不仅不会为我们带来便利，反而还会因为频繁唤醒设备带来不小的耗电问题。待机续航问题作为悬在国产 Android 机头顶的几把利剑之一，手机厂商不得不各自从系统层面推出自家的应对机制——这就有了上面提到的各种偏激式的后台管理方法。
&#13;
另一方面，这里还涉及到一个非常重要的概念区分：多任务管理和后台管理究竟是不是一回事？
&#13;
国内 Android 生态由于早期受 iOS 影响较深，无论是开发商还是用户都更倾向于把「将应用卡片从多任务列表里划掉」的行为理解为清除对应用的后台进程。在上面提到的特殊生态环境的影响之下，这里被清除的后台进程往往又包括那些用于保证应用后台运行的可见进程、服务进程乃至前台进程在内。https://cdn.sspai.com/2019/09/29/868d4e6d0430f31239d76a02785b22c9.gif?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1iOS 的任务管理方式 | 图：Javi Pérez
&#13;
在酷安应用市场，甚至还有得以在原生 Android 上实现类似「划掉卡片即停止运行」效果的应用，iOS 的后台管理理念在国内有多么深入人心可见一斑。https://cdn.sspai.com/2019/09/29/c9432af75fd3ceabd0e2ed410d614e58.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1但这种后台管理理念却与 Google 对 Android 的多任务管理设计方式相悖。Google 一直以来都将 Android 手机上呼出任务卡片的那个界面叫做 Recents，最近几个版本的 Android 系统更是将其本地化为「概览」。结合 Google 在 Android 9 和 Android 10 手势交互上的变革，注重多任务管理而非后台管理的意图也越发明显。https://cdn.sspai.com/2019/09/29/dbf350dc18ba67e7f0c760557cb56cdb.gif?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1当最近运行的应用以一张张卡片的形式呈现在我们面前时，Google 想要呈现的是一个能够让我们在不同任务间快速切换的多任务交互，而在理想状态下，后台管理则是交由系统处理、完全不应被用户感知的。
&#13;
至于如何理性看待 Android 平台的后台管理，这里我们不妨借用绿色守护开发者 @OasisFeng 在「Android 多任务界面的划除交互」这个话题上的 答疑 来回答这个问题：Android 从 8.0 开始大幅度调整了应用的后台控制策略……原则上，只要适配了 Android 8+ 的应用，就不能再持续在后台占据内存……至于耗电，这是一个需要平衡的取舍，你如果的确需要某个应用的后台机制，那就得让它略微耗一点电（不能既要马儿跑得快，又让马儿不吃草吧）。如果你压根不需要它的后台机制，或者它的后台耗电太过分了，那么你可以在应用设置中限制应用的后台能力（非原生系统可能不一定有这个选项）。总之，你并不需要「杀应用」，也没必要为这些破事儿操碎心。这种关注多任务管理、将后台管理主动权交还给系统的理念，随着 Android 10 的正式放出还将得到进一步强化——Google 将不再允许预装 Android 10 的手机通过清除多任务卡片的方式来终止后台进程，这个要求同样也被加入了 Google 的 CTS 认证流程。
&#13;
换句话说，今后绝大部分需要在海外市场搭载 Google 服务上市的手机都必须满足这个要求。
&#13;
小结9 月 25 日，酝酿已久的安卓统一推送联盟正式宣布收到华为、OPPO、一加和 realme 四家公司的进度确认，虽然 Google 的缺席也让国内 Android 生态也变得异常复杂，但国内 Android 设备也能用上的统一推送服务也算是终于迈出了具有实际意义的第一步。只是距离转变人们对 Android「杀后台」这件事的看法依然还有很长的路要走。事实上，国内早在四五年前就出现过一次对「Android 需不需要『杀后台』」问题的科普，但收效甚微，盲从 iOS 设计风格和交互逻辑国内 Android 厂商要负很大一部分责任。希望靠谱、省电的统一推送系统能成为改观的第一步，也希望 @OasisFeng 口中那个甚至可以跨越设备重启恢复「后台状态」的理想化生态早日到来——至于当下，我们依然只能见招拆招，遇到应用无法正常执行后台任务时打开手机设置仔细翻找、设置，把它们扔进白名单或是给它们的后台卡片套个「锁」……</description>
      <content:encoded><![CDATA[<p><b>gambleed: </b><br>
<span>Android手机运存越来越大,为什么后台应用还是会被「杀」?</span><br>
<span> 本帖最后由 gambleed 于 2019-10-9 15:09 编辑 </span><br>
<span>https://sspai.com/post/56818不知不觉间 Android 陷入了一个关于「后台」的怪圈：一边各大厂商陆续推出了 12G RAM 的手机，另一边你刚刚放到后台的下载任务没有如预期那样后台挂机下载，打开微信发现还得陪启动画面的孤独小人共赏蓝色星球，按照教程辛辛苦苦做了半个小时的 Tasker 规则、却没有按照计划自动执行……于是一个耳熟能详的句子开始在我们脑海中成型——我的后台又被「杀」了。</span><br>
<span>应用开发者的「控诉」</span><br>
<span>如果你第二天早上醒来发现睡眠追踪应用里的记录数据「一马平川」，并不是因为你「睡得死」，而是睡眠追踪应用根本就没有正常工作。</span><br>
<span>遇到上述问题的人不止你一个，很多人选择向这些应用的开发者反馈问题，殊不知问题其实不在应用本身。Android 平台著名睡眠追踪应用 Sleep as Android 的开发团队 Urbandroid Team 不堪其扰，索性上线了一个名为「别『杀』我应用」的网站，矛头直指手机厂商糟糕的后台管理机制。https://cdn.sspai.com/2019/09/27/96371966b327cdb53419604b34b2fadc.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1Don't kill my app! 网站对 OEM 系统的评分</span><br>
<span>以三星为例，Urbandroid Team 称，三星的部分机型在升级到基于 Android 9 的 One UI 后「杀后台」现象变得尤为严重，自适应电池（Adaptive Battery）机制相比原生 Android 变得尤为激进，3 天内没有启动过的应用甚至无法从后台再次启动。最为糟糕的情况是，如果你安装了一个可以自动跳过周末的第三方闹钟，那这个闹钟应用很有可能不会像系统闹钟那样在下周一早上准时响起……</span><br>
<span>正如「别『杀』我应用」网站上控诉的那样，拥有类似机制的还包括华为、一加、小米、华硕等等手机厂商的定制版 Android 系统，它们管理后台的方式大同小异，但都秉承着 iOS 上那一套「划掉就杀掉」的原则——当我们把某款应用的任务卡片从多任务界面划去，它们也就彻底从手机后台中抹除掉了。这里你可能会问很多问题：</span><br>
<span>[*]Android 运行内存越来越充裕，为什么会有如此严重的「杀后台」现象？</span><br>
<span>[*]原生 Android 也采用了一套类似的卡片多任务交互方式，有什么区别？</span><br>
<span>[*]Android 究竟需不需要借助「一键清理」这样的方式来释放运行内存？</span><br>
<span>我们得从一些基础的原理说起。</span><br>
<span>Android 的内存回收机制</span><br>
<span>在 官方文档 中，Google 将「不受应用自身直接控制的应用进程生命周期」描述为 Android 最为基础也最为独特的核心特性，这里我们不妨将「应用进程生命周期」暂时理解为文章开头和第一部分所说的「后台」或「后台进程（process）」。所以 Android 应用的后台进程去留本应是由 Android 系统来决定的。当可用运行内存空间不足时，Android 系统会自行决定对特定应用后台进程占用的空间进行回收释放，这个过程中 Android 挥舞着的那把大刀，叫做 LMK（Low Memory Killer）。那 LMK 又是如何判断哪些应用可以被「杀」掉、哪些应用又该暂时放过的呢？每个应用都有各种各样的组成部分，其中特定组件的运行状态共同组成了一套供 LMK 进行内存回收的「优先级」参考，包括：前台进程、可见进程、服务进程和缓存进程。https://cdn.sspai.com/2019/09/29/284d08174190ed23035fbb08aac6400c.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1一款应用通常会包含的进程类型</span><br>
<span>前台进程、可见进程和服务进程往往与我们正在手机上执行的操作直接或间接相关，比如正在前台供我们交互和操作的活动窗口（Activity）、正在通过广播接收器（BroadcastReceiver）等待触发的 Tasker 规则、正在后台通过 Wi-Fi 网络自动上传备份照片的 Google Photos 以及前面提到的有待触发的闹钟等等。这些进程优先级从高到低依次递减，LMK 一般不会触及。</span><br>
<span>缓存进程则是那些暂时放在运行内存中的部分，也是和本文探讨话题主要相关的重点。在一个正常运行的（Android）操作系统中，缓存进程应是内存管理机制唯一需要交互的部分：一个运行良好的 Android 系统通常会在运行内存中暂存多个缓存进程以随时调用，提高应用间的切换效率，同时对那些较为老旧的不活跃进程进行有计划的回收。只有在极端情况下，比如 Android 系统在回收掉所有缓存进程后发现空闲内存依然不够用（比如在低内存的「老爷机」上运行《崩坏 3》），这时 LMK 才会根据优先级继续对服务进程、可见进程和前台进程采取回收策略。而当这些我们在正常使用中能够直观感受到的进程都不得不被被回收时，文章开头提到的微信重载、音乐中断、下载消失等等现象也就出现了。</span><br>
<span>谁动了你的后台</span><br>
<span>在可用内存充裕的情况下遭遇「杀后台」现象，一方面可能是 LMK 这把「大刀」出了问题（常见于 Android 9 时期的 Pixel 3 用户），另一方面则有可能是其它规则额外干预了 Android 系统正常的内存回收机制。</span><br>
<span>这里提到的「其它规则」主要有两种形式，一种类似部分华为设备上预装的「省电精灵」，它会将所有没有加入后台白名单中的应用后台统统清除，另一种则依托于 Google 推出的后台检查、后台限制和自适应电池等功能进行「魔改」，让这些功能的实际效果远超预期，甚至达到意料之外的负面效果。根据 Don't kill my app! 的统计，第二种后台干预机制在三星、一加和早期的诺基亚机型中常见，这里厂商们通常会用到一种类似「白名单」的方法来进行过滤。</span><br>
<span>以三星手机基于 Android 9 的 One UI 为例，除了微信、QQ 等国内常见应用，One UI 默认会为所有第三方应用关闭「允许后台活动」这一选项，同时开启「优化电池使用量」这一功能。https://cdn.sspai.com/2019/09/27/7cb5b377c1cf1f76c12b0da47d94ec49.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1One UI 的后台管理</span><br>
<span>部分搭载氢 OS 的一加机型则将上面提到的应用进程进行拆分，除了基于原生 Android 的后台限制、电池优化，还有一套名为「自启动管理」的设置来对应用的自启动进行管理以及一套名为「深度优化」的电池优化机制，后者会造成很多智能手表、手环设备在一段时间后丢失与手机的蓝牙连接，最终导致睡眠追踪、运动记录等等功能的失效。https://cdn.sspai.com/2019/09/27/75b4b0702e61110230125cfd6525a020.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1氢 OS 的自启动管理</span><br>
<span>问题在于上述功能埋藏较深，一般用户在安装应用后往往不会第一时间前往设置，一加的氢 OS 更是以系统更新之后自动重置部分用户设置闻名，那些需要在后台正常工作的应用，因此也被都被直接扔进了原生 Android 中用来限制「毒瘤」应用的「黑箱」里。</span><br>
<span>换句话说，国内大部分定制 ROM 在后台管理这件事情上都选择采用一种「宁肯错杀一千不肯放过一个」的做法。</span><br>
<span>多任务管理还是后台管理？</span><br>
<span>从某种程度上来说，国产手机厂商在 Android 后台管理上的做法虽然偏激，但它们都是国内特殊生态下的产物 。</span><br>
<span>一方面，尽管 Google 为 Android 设想了一套非常理想化的应用运行与后台管理机制，但大多数于原生 Android 中行之有效的后台管理机制在国内似乎都会变成「鸡肋」。</span><br>
<span>如果 Google 有 100 种提升 Android 应用运行效率，保证后台绿色、纯净的方法，国内毒瘤应用开发商就有 101 种绕过这些限制的方法。借助共用的第三方推送服务实现链式唤醒、借助透明的悬浮窗保证后台存活、通过不断获取定位的方式来避免进程被系统回收……不管是出于实现消息推送这样单纯的目的还是为了不断唤醒用户设备以实现 KPI 目标这种下作的行为，在国内 Android 生态中均有出现。https://cdn.sspai.com/2019/09/29/fcdc8c1f4a083f92774b88171ad3886d.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1绿色守护专门针对链式唤醒推出的唤醒追踪功能</span><br>
<span>虽然国内外的具体环境有所不同，但这类设计不规范的 Android 应用带来的问题却是一样的，这类应用放在后台不仅不会为我们带来便利，反而还会因为频繁唤醒设备带来不小的耗电问题。待机续航问题作为悬在国产 Android 机头顶的几把利剑之一，手机厂商不得不各自从系统层面推出自家的应对机制——这就有了上面提到的各种偏激式的后台管理方法。</span><br>
<span>另一方面，这里还涉及到一个非常重要的概念区分：多任务管理和后台管理究竟是不是一回事？</span><br>
<span>国内 Android 生态由于早期受 iOS 影响较深，无论是开发商还是用户都更倾向于把「将应用卡片从多任务列表里划掉」的行为理解为清除对应用的后台进程。在上面提到的特殊生态环境的影响之下，这里被清除的后台进程往往又包括那些用于保证应用后台运行的可见进程、服务进程乃至前台进程在内。https://cdn.sspai.com/2019/09/29/868d4e6d0430f31239d76a02785b22c9.gif?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1iOS 的任务管理方式 | 图：Javi Pérez</span><br>
<span>在酷安应用市场，甚至还有得以在原生 Android 上实现类似「划掉卡片即停止运行」效果的应用，iOS 的后台管理理念在国内有多么深入人心可见一斑。https://cdn.sspai.com/2019/09/29/c9432af75fd3ceabd0e2ed410d614e58.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1但这种后台管理理念却与 Google 对 Android 的多任务管理设计方式相悖。Google 一直以来都将 Android 手机上呼出任务卡片的那个界面叫做 Recents，最近几个版本的 Android 系统更是将其本地化为「概览」。结合 Google 在 Android 9 和 Android 10 手势交互上的变革，注重多任务管理而非后台管理的意图也越发明显。https://cdn.sspai.com/2019/09/29/dbf350dc18ba67e7f0c760557cb56cdb.gif?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1当最近运行的应用以一张张卡片的形式呈现在我们面前时，Google 想要呈现的是一个能够让我们在不同任务间快速切换的多任务交互，而在理想状态下，后台管理则是交由系统处理、完全不应被用户感知的。</span><br>
<span>至于如何理性看待 Android 平台的后台管理，这里我们不妨借用绿色守护开发者 @OasisFeng 在「Android 多任务界面的划除交互」这个话题上的 答疑 来回答这个问题：Android 从 8.0 开始大幅度调整了应用的后台控制策略……原则上，只要适配了 Android 8+ 的应用，就不能再持续在后台占据内存……至于耗电，这是一个需要平衡的取舍，你如果的确需要某个应用的后台机制，那就得让它略微耗一点电（不能既要马儿跑得快，又让马儿不吃草吧）。如果你压根不需要它的后台机制，或者它的后台耗电太过分了，那么你可以在应用设置中限制应用的后台能力（非原生系统可能不一定有这个选项）。总之，你并不需要「杀应用」，也没必要为这些破事儿操碎心。这种关注多任务管理、将后台管理主动权交还给系统的理念，随着 Android 10 的正式放出还将得到进一步强化——Google 将不再允许预装 Android 10 的手机通过清除多任务卡片的方式来终止后台进程，这个要求同样也被加入了 Google 的 CTS 认证流程。</span><br>
<span>换句话说，今后绝大部分需要在海外市场搭载 Google 服务上市的手机都必须满足这个要求。</span><br>
<span>小结9 月 25 日，酝酿已久的安卓统一推送联盟正式宣布收到华为、OPPO、一加和 realme 四家公司的进度确认，虽然 Google 的缺席也让国内 Android 生态也变得异常复杂，但国内 Android 设备也能用上的统一推送服务也算是终于迈出了具有实际意义的第一步。只是距离转变人们对 Android「杀后台」这件事的看法依然还有很长的路要走。事实上，国内早在四五年前就出现过一次对「Android 需不需要『杀后台』」问题的科普，但收效甚微，盲从 iOS 设计风格和交互逻辑国内 Android 厂商要负很大一部分责任。希望靠谱、省电的统一推送系统能成为改观的第一步，也希望 @OasisFeng 口中那个甚至可以跨越设备重启恢复「后台状态」的理想化生态早日到来——至于当下，我们依然只能见招拆招，遇到应用无法正常执行后台任务时打开手机设置仔细翻找、设置，把它们扔进白名单或是给它们的后台卡片套个「锁」……</span><br>
</p><p><b>处男鉴黄师: </b><br>
<span>这不就是典型的各家app恶性竞争劣币驱逐良币，管理方（厂商OS）只好一刀切粗暴管理的现象吗</span><br>
</p><p><b>糟糕的魔女: </b><br>
<span> 本帖最后由 糟糕的魔女 于 2019-10-9 14:59 编辑 </span><br>
<span>然而“划卡即停”明明才是好方案，用户有着自己结束进程的权利，不划掉的尽量保活，划掉的立即杀死，简单清晰</span><br>
<span>—— 来自 Sony H8324, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>macos: </b><br>
<span>嗯，ios还是很羡慕安卓的大内存的，现在只能在智能识别下随性被杀，如果内存涨到6g那能活多少后台</span><br>
</p><p><b>epilogue: </b><br>
<span>没啥可比性，国内安卓确实现在必须要6g起步，拿国外的使用习惯套国内本来就没意义。</span><br>
<span>—— 来自 OnePlus GM1910, Android 10上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>ronh: </b><br>
<span>原生android10除了手动放进黑名单的app以外不杀后台，用的是墓碑机制。</span><br>
<span>— from Google Pixel 3 XL, Android 10 of S1 Next Goose v2.1.2</span><br>
</p><p><b>すぴぱら: </b><br>
<span>后台不自杀，是不是还要喷安卓后台太费电一夜撸掉10%？</span><br>
</p><p><b>gofbayrf: </b><br>
<span>我很懷疑廠方不作修改的話就是4G 的PIXEL 3規則硬套進12G的玩意裏....</span><br>
</p><p><b>epilogue: </b><br>
<span>gofbayrf 发表于 2019-10-9 15:11</span><br>
<span>我很懷疑廠方不作修改的話就是4G 的PIXEL 3規則硬套進12G的玩意裏....</span><br>
<span>不太可能，举例的话=8p 6g后台口碑就比8g差很多。。。</span><br>
</p><p><b>GMJ: </b><br>
<span>安卓不是有多少清内存几个机霸应用就敢给你吃多少内存的么</span><br>
</p><p><b>flmu: </b><br>
<span>糟糕的魔女 发表于 2019-10-9 14:58</span><br>
<span>然而“划卡即停”明明才是好方案，用户有着自己结束进程的权利，不划掉的尽量保活，划掉的立即杀死，简单清 ...</span><br>
<span>几年前的阻止运行这个xposed插件的运行机制就是这样的吧。当年在nexus4上使用过这个神器，十分好用</span><br>
<span>—— 来自 vivo V1829A, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>melvin95: </b><br>
<span>4G内存的essential phone上了安卓10后台照样被删，自从9 beta过后就感觉挂不了任何后台</span><br>
<span>6G的S10E挂一个礼拜都没问题</span><br>
<span>但比烂还是哇为牛</span><br>
<span>但真正恶心人的还是启动/转进广告吧</span><br>
<span>国产毒瘤就是会恶心人，这一点只能不用了</span><br>
<span>另外安卓水果同质化不可免，路子其实只有一条</span><br>
</p><p><b>糟糕的魔女: </b><br>
<span>flmu 发表于 2019-10-9 16:00</span><br>
<span>几年前的阻止运行这个xposed插件的运行机制就是这样的吧。当年在nexus4上使用过这个神器，十分好用</span><br>
<span>没错……阻止运行就是这个机制。</span><br>
<span>后来就变成了黑阈……然而作者后面太事逼，最后我又弃了。现在Android pie本身也基本能做到划掉就关闭，就懒得折腾了。结果Google看起来准备倒车了？？？</span><br>
<span>—— 来自 Sony H8324, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>咲月露娜: </b><br>
<span>一直都在用类原生，安卓456的时候主要研究怎么杀流氓，安卓789的时候主要研究怎么后台保活。。。</span><br>
</p><p><b>騜: </b><br>
<span>所以推送联盟上来也是解决不了问题的，该杀还是要杀</span><br>
</p><p><b>kelveen: </b><br>
<span>其实华为、三星这种处理方式本质上是没问题的，用户应该有渠道选择自己认为需要常驻/自动终止的APP，问题在于实现方式上。明明是一个简单的逻辑（允许/不允许自启），非要拆散到N个不同的设置页面里（允许/不允许自启、允许/不允许常驻后台、允许/不允许优化电池使用量），而且还不放在一起，名字还五花八门，这就是摆明了给人添堵了。</span><br>
</p><p><b>yxch: </b><br>
<span>华为的后台机制很迷，有的应用我希望不论如何耗电也不要关闭，多任务界面下拉锁住、应用自启动手动改成允许、电池优化改为不优化，都做完之后，还要尽量多用这个应用，让系统知道我真的很需要它不被关闭。微信则是什么也不用设置，每天只有早上起床第一次打开会发现重载，也不是完全重载，直接进聊天列表，没有月亮，因为微信没有完全关闭。有的应用则是我需要手动在应用设置里强行停止才能真正关闭。我已经不求能简单设置保APP活命了，多任务界面划掉就直接搞死后台有那么难吗？</span><br>
</p><p><b>zzzqqqrrr: </b><br>
<span> 本帖最后由 zzzqqqrrr 于 2019-10-9 18:18 编辑 </span><br>
<span>拉倒吧 什么时候所有安卓手机都上5000毫安电池再说</span><br>
<span>rog2那系统什么都不杀也是安卓续航第一 为什么？</span><br>
<span>因为有6000毫安</span><br>
<span>—— 来自 Xiaomi Mi Note 3, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>linjia: </b><br>
<span> pc上windows和 linux发行版上正常是不会杀进程的，难道为了省电吗</span><br>
</p><p><b>zknym: </b><br>
<span>linjia 发表于 2019-10-9 18:24</span><br>
<span>pc上windows和 linux发行版上正常是不会杀进程的，难道为了省电吗</span><br>
<span>没有电脑管家的时候，公用电脑的计划任务加常驻进程能把电脑卡死，国内著名巨头A家的聊天软件卸载后仍然经常切到桌面，活生生病毒行为</span><br>
<span>—— 来自 HUAWEI ELE-AL00, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>Kyoto: </b><br>
<span>12g内存，挂满后台运行，续航画美不看，讲个笑话安卓真后台</span><br>
<span>—— 来自 HUAWEI VOG-AL00, Android 10上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>cyberalogo: </b><br>
<span>所以结论是安卓并没有什么科学管理后台的办法？</span><br>
</p><p><b>zlzhcqblf: </b><br>
<span>谷歌一直在为降低国内用户体验做着不懈努力。至于国外，在谷歌眼里还处于4g内存够用的阶段</span><br>
</p><p><b>66666: </b><br>
<span>现在不是挺好，自己想要后台运行的可以加锁，默认直接全部干掉省电，所以不玩游戏的同学8GB内存能用到天荒地老</span><br>
</p><p><b>madbird302: </b><br>
<span>太长不看，不过很明显是谷歌系统授权管理失控导致的结果，也算是碎片化的进一步恶性演化</span><br>
</p><p><b>雪影: </b><br>
<span>华为后台没问题个鬼，设置了后台驻留权限都不一定挂的住的玩意儿</span><br>
<span>—— 来自 Xiaomi Redmi K20 Pro, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>七草真由美: </b><br>
<span>雪影 发表于 2019-10-9 19:08</span><br>
<span>华为后台没问题个鬼，设置了后台驻留权限都不一定挂的住的玩意儿</span><br>
<span>—— 来自 Xiaomi Redmi K20 Pro, Androi ...</span><br>
<span>亲测，华为设置什么都没用，挂不住，使劲杀</span><br>
<span>—— 来自 Sony H8296, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>yxch: </b><br>
<span>七草真由美 发表于 2019-10-9 19:20</span><br>
<span>亲测，华为设置什么都没用，挂不住，使劲杀</span><br>
<span>—— 来自 Sony H8296, Android 9上的 S1Next-鹅版 v2.1.2 ...</span><br>
<span>按我上面说的做，把系统熬服了，就不杀了。另外开了省电模式无论如何也挂不住了。我看华为论坛有人正在播放的音乐被杀，也是杀伐果断。</span><br>
<span>—— 来自 HUAWEI LIO-AL00, Android 10上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>兰开夏: </b><br>
<span>yxch 发表于 2019-10-9 20:07</span><br>
<span>按我上面说的做，把系统熬服了，就不杀了。另外开了省电模式无论如何也挂不住了。我看华为论坛有人正在播 ...</span><br>
<span>找了三个地方终于可以召唤神龙的错觉了</span><br>
</p><p><b>红左手: </b><br>
<span>linjia 发表于 2019-10-9 18:24</span><br>
<span>pc上windows和 linux发行版上正常是不会杀进程的，难道为了省电吗</span><br>
<span>要干活的啊</span><br>
<span>前台PS然后还跑这QQ挂着下载开着一堆文档，要是自动杀了哪个的话还生产力个屁……</span><br>
</p><p><b>iou90: </b><br>
<span>据说部分地区android开发者一个技能是“应用保活”</span><br>
<span>简历都会写</span><br>
<span>保活喷了 养殖业 兽医</span><br>
</p><p><b>zatsuza: </b><br>
<span>因为android原生并没有后台冻结机制，只能保留运行状态或者缓存到下次重新运行，这些手机厂商也没对这块做出任何贡献，他们无非就是做了个强杀规则，过了多少分钟不用的app自动杀掉，以保证电池不会被各种流氓应用吃光。像我手里这台ram占用从来就没过4g，coloros还限制你最多只能固定设置5个后台应用，猴机在这块真是极其的傻逼</span><br>
<span>—— 来自 Realme RMX1901, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>alexwu: </b><br>
<span>最舒服的还是当年用安卓4.4的索尼z2那时候，root也简单，直接root加绿色守护，想让谁活谁死全都管理的服服帖帖，浏览器从来不重载。自从5.0谷歌开始插手后台管理以后就没好过</span><br>
</p><p><b>忘归然: </b><br>
<span>linjia 发表于 2019-10-9 18:24</span><br>
<span>pc上windows和 linux发行版上正常是不会杀进程的，难道为了省电吗</span><br>
<span>桌面系统跟手机系统的应用机制可是不一样的</span><br>
<span>—— 来自 Google Pixel 2 XL, Android 10上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>win8: </b><br>
<span>源头还是大部分要用的app不是太垃圾了就是太流氓了，不杀后台就是会给你搞鬼。恶果就是守规矩的没法好好用。</span><br>
<span>先进、正确没有任何意义，我只需要在任何时候都能控制自己的手机，哪个app能活哪个该死。退一步讲，即使我不能想让谁活谁就活，我也得能控制想让谁死谁就死。</span><br>
</p><p><b>lyz1196: </b><br>
<span>今年的诺贝尔化学奖授予了 约翰·B·古迪纳夫、M·斯坦利·威廷汉和吉野彰，以表彰他们在锂离子电池发展上所做的工作 。</span><br>
</p><p><b>lovepefe: </b><br>
<span>苹果的墓碑机制+统一推送</span><br>
<span>这么久看来确实棋高一筹啊</span><br>
<span>作为用户我想要</span><br>
<span>后台 墓碑 强退 可控+统一推送哎</span><br>
<span>—— 来自 Meizu 16th, Android 8.1.0上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>cqkxywj: </b><br>
<span>坛友可以去了解安迪-比尔定律</span><br>
</p><p><b>lixianfyss: </b><br>
<span>糟糕的魔女 发表于 2019-10-9 14:58</span><br>
<span>然而“划卡即停”明明才是好方案，用户有着自己结束进程的权利，不划掉的尽量保活，划掉的立即杀死，简单清 ...</span><br>
<span>可实际上没划掉的也被杀，大内存基本就是摆设。</span><br>
</p><p><b>糟糕的魔女: </b><br>
<span>lixianfyss 发表于 2019-10-10 01:01</span><br>
<span>可实际上没划掉的也被杀，大内存基本就是摆设。</span><br>
<span>所以应该做的是完善好“划掉即杀，保留即活”的机制……让用户有自主权。而不是把这个原本明晰的机制给砍掉，变成搞不懂后台到底杀没杀的“先进机制”。</span><br>
<span>—— 来自 Sony H8324, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>lixianfyss: </b><br>
<span>糟糕的魔女 发表于 2019-10-10 01:15</span><br>
<span>所以应该做的是完善好“划掉即杀，保留即活”的机制……让用户有自主权。而不是把这个原本明晰的机制给砍 ...</span><br>
<span>后台进程就不该放在多任务卡片里，绝大多数用户也不用关心后台进程。windows/Linux后台几十上百个进程，用户根本就不需要管。不能拿功能机和嵌入式系统的洁癖来要求现在的智能机系统。</span><br>
</p><p><b>男子汉: </b><br>
<span>糟糕的魔女 发表于 2019-10-9 14:58</span><br>
<span>然而“划卡即停”明明才是好方案，用户有着自己结束进程的权利，不划掉的尽量保活，划掉的立即杀死，简单清 ...</span><br>
<span>你高估了用户的认知。大部分用户根本搞不清后台和退出的区别，也不在乎。推送是啥更是没心思了解。</span><br>
<span>对他们来说，就是卡不卡，微信收不收得到，发朋友圈的照片够不够炫。</span><br>
</p><p><b>虾扯蛋777: </b><br>
<span>zatsuza 发表于 2019-10-9 20:51</span><br>
<span>因为android原生并没有后台冻结机制，只能保留运行状态或者缓存到下次重新运行，这些手机厂商也没对这块做 ...</span><br>
<span>最多5个？能改么？</span><br>
</p><p><b>momoooo: </b><br>
<span>再怎么样也比苹果玩手游到一半出去拍张照游戏重载了好</span><br>
<span>—— 来自 Xiaomi MIX 2, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>308: </b><br>
<span>momoooo 发表于 2019-10-10 08:03:28</span><br>
<span>v2.1.2玩手游玩到一半拍照是什么需求，只听过截图</span><br>
<span>-- 来自 有消息提醒的 Stage1官方 iOS客户端</span><br>
</p><p><b>66666: </b><br>
<span>讲真，大多数APP驻留后台运行其实也没什么鸟用，现在APP切前台都有广告，看几秒广告没比冷启动时间短多少</span><br>
</p><p><b>糟糕的魔女: </b><br>
<span>男子汉 发表于 2019-10-10 04:21</span><br>
<span>你高估了用户的认知。大部分用户根本搞不清后台和退出的区别，也不在乎。推送是啥更是没心思了解。</span><br>
<span>对他 ...</span><br>
<span>我妈这种50多的人算不算普通用户？她都会在意为什么淘宝莫明其妙启动，也学会退出程序后一定要从多任务里划掉，也学会了给微信加个锁保活。</span><br>
<span>而我妈在意仅仅只是因为我提了两句，就养成了使用习惯。所以普通用户为什么一定会不在意？确实普通用户不会在意实现机制，但普通用户会在意实现的反馈，只要你系统逻辑做得好，这种直观的划卡行为是学习成本非常低的。</span><br>
<span>—— 来自 Sony H8324, Android 9上的 S1Next-鹅版 v2.1.2</span><br>
</p><p><b>linjia: </b><br>
<span>糟糕的魔女 发表于 2019-10-10 09:07</span><br>
<span>我妈这种50多的人算不算普通用户？她都会在意为什么淘宝莫明其妙启动，也学会退出程序后一定要从多任务里 ...</span><br>
<span>是的，就算是傻瓜用户，也会问为什么视频切走回个微信消息回来视频播放界面就没了，</span><br>
</p><p><b>lixianfyss: </b><br>
<span>糟糕的魔女 发表于 2019-10-10 09:07</span><br>
<span>我妈这种50多的人算不算普通用户？她都会在意为什么淘宝莫明其妙启动，也学会退出程序后一定要从多任务里 ...</span><br>
<span>加锁保活应该算是挺高级的操作。</span><br>
</p><p><b>gnorz: </b><br>
<span> 本帖最后由 gnorz 于 2019-10-10 14:08 编辑 </span><br>
<span>安卓杀后台其实是历史问题了吧，手里的安卓9准原生，从来不关心这玩意。</span><br>
</p>]]></content:encoded>
      <guid isPermaLink="false">1858626[0-50]</guid>
    </item>
  </channel>
</rss>
